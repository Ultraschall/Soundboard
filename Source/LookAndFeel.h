/*
  ==============================================================================

    LookAndFeel.h
    Author:  Daniel Lindenfelser

  ==============================================================================
*/

#ifndef LOOKANDFEEL_H_INCLUDED
#define LOOKANDFEEL_H_INCLUDED

#include "JuceHeader.h"

static const Colour ColourDarkBackground =  Colour::fromRGB(33, 33, 33);

static const Colour ColourTableCellEven = Colour::fromRGB(44, 44, 44);
static const Colour ColourTableCellUneven = Colour::fromRGB(46, 47, 49);
static const Colour ColourTableCellBorder = Colour::fromRGB(39, 39, 41);

static const Colour ColourGridPlayedBackground = Colour::fromRGB(41, 53, 43);
static const Colour ColourGridPlayed = Colour::fromRGB(131, 222, 92);
static const Colour ColourGridLoppingBackground = Colour::fromRGB(41, 48, 57);
static const Colour ColourGridLopping = Colour::fromRGB(126, 189, 229);
static const Colour ColourGridFadeOutBackground = Colour::fromRGB(51, 41, 52);
static const Colour ColourGridFadeOut = Colour::fromRGB(225, 123, 180);
static const Colour ColourGridDefaultBackround = Colour::fromRGB(59, 59, 48);
static const Colour ColourGridDefault = Colour::fromRGB(241, 231, 106);

// Tomorrow Night
static const Colour TomorrowNightBackground1 = Colour::fromRGB (29, 31, 33);
static const Colour TomorrowNightBackground2 = Colour::fromRGB (40, 42, 46);
static const Colour TomorrowNightBackground3 = Colour::fromRGB (55, 59, 65);
static const Colour TomorrowNightForeground1 = Colour::fromRGB (197, 200, 198);
static const Colour TomorrowNightForeground2 = Colour::fromRGB (150, 152, 150);
static const Colour TomorrowNightRed = Colour::fromRGB (204, 102, 102);
static const Colour TomorrowNightOrange = Colour::fromRGB (222, 147, 95);
static const Colour TomorrowNightYellow = Colour::fromRGB (240, 198, 116);
static const Colour TomorrowNightGreen = Colour::fromRGB (181, 189, 104);
static const Colour TomorrowNightAqua = Colour::fromRGB (138, 190, 183);
static const Colour TomorrowNightBlue = Colour::fromRGB (129, 162, 190);
static const Colour TomorrowNightPurple = Colour::fromRGB (178, 148, 187);

// Tomorrow
static const Colour TomorrowBackground1 = Colour::fromRGB (255, 255, 255);
static const Colour TomorrowBackground2 = Colour::fromRGB (239, 239, 239);
static const Colour TomorrowBackground3 = Colour::fromRGB (214, 214, 214);
static const Colour TomorrowForeground1 = Colour::fromRGB (77, 77, 76);
static const Colour TomorrowForeground2 = Colour::fromRGB (142, 144, 140);
static const Colour TomorrowRed = Colour::fromRGB (200, 40, 41);
static const Colour TomorrowOrange = Colour::fromRGB (245, 135, 31);
static const Colour TomorrowYellow = Colour::fromRGB (234, 183, 0);
static const Colour TomorrowGreen = Colour::fromRGB (113, 140, 0);
static const Colour TomorrowAqua = Colour::fromRGB (62, 153, 159);
static const Colour TomorrowBlue = Colour::fromRGB (66, 113, 174);
static const Colour TomorrowPurple = Colour::fromRGB (137, 89, 168);

// Tomorrow Night Eighties
static const Colour TomorrowNightEightiesBackground1 = Colour::fromRGB (45, 45, 45);
static const Colour TomorrowNightEightiesBackground2 = Colour::fromRGB (57, 57, 57);
static const Colour TomorrowNightEightiesBackground3 = Colour::fromRGB (81, 81, 81);
static const Colour TomorrowNightEightiesForeground1 = Colour::fromRGB (204, 204, 204);
static const Colour TomorrowNightEightiesForeground2 = Colour::fromRGB (153, 153, 153);
static const Colour TomorrowNightEightiesRed = Colour::fromRGB (242, 119, 122);
static const Colour TomorrowNightEightiesOrange = Colour::fromRGB (249, 145, 87);
static const Colour TomorrowNightEightiesYellow = Colour::fromRGB (255, 204, 102);
static const Colour TomorrowNightEightiesGreen = Colour::fromRGB (153, 204, 153);
static const Colour TomorrowNightEightiesAqua = Colour::fromRGB (102, 204, 204);
static const Colour TomorrowNightEightiesBlue = Colour::fromRGB (102, 153, 204);
static const Colour TomorrowNightEightiesPurple = Colour::fromRGB (204, 153, 204);

// Tomorrow Night Blue
static const Colour TomorrowNightBlueBackground1 = Colour::fromRGB (0, 36, 81);
static const Colour TomorrowNightBlueBackground2 = Colour::fromRGB (0, 52, 110);
static const Colour TomorrowNightBlueBackground3 = Colour::fromRGB (0, 63, 142);
static const Colour TomorrowNightBlueForeground1 = Colour::fromRGB (255, 255, 255);
static const Colour TomorrowNightBlueForeground2 = Colour::fromRGB (114, 133, 183);
static const Colour TomorrowNightBlueRed = Colour::fromRGB (255, 157, 164);
static const Colour TomorrowNightBlueOrange = Colour::fromRGB (255, 197, 143);
static const Colour TomorrowNightBlueYellow = Colour::fromRGB (255, 238, 173);
static const Colour TomorrowNightBlueGreen = Colour::fromRGB (209, 241, 169);
static const Colour TomorrowNightBlueAqua = Colour::fromRGB (153, 255, 255);
static const Colour TomorrowNightBlueBlue = Colour::fromRGB (187, 218, 255);
static const Colour TomorrowNightBluePurple = Colour::fromRGB (235, 187, 255);

// Tomorrow Night Bright
static const Colour TomorrowNightBrightBackground1 = Colour::fromRGB (0, 0, 0);
static const Colour TomorrowNightBrightBackground2 = Colour::fromRGB (42, 42, 42);
static const Colour TomorrowNightBrightBackground3 = Colour::fromRGB (66, 66, 66);
static const Colour TomorrowNightBrightForeground1 = Colour::fromRGB (234, 234, 234);
static const Colour TomorrowNightBrightForeground2 = Colour::fromRGB (150, 152, 150);
static const Colour TomorrowNightBrightRed = Colour::fromRGB (213, 78, 83);
static const Colour TomorrowNightBrightOrange = Colour::fromRGB (231, 140, 69);
static const Colour TomorrowNightBrightYellow = Colour::fromRGB (231, 197, 71);
static const Colour TomorrowNightBrightGreen = Colour::fromRGB (185, 202, 74);
static const Colour TomorrowNightBrightAqua = Colour::fromRGB (112, 192, 177);
static const Colour TomorrowNightBrightBlue = Colour::fromRGB (122, 166, 218);
static const Colour TomorrowNightBrightPurple = Colour::fromRGB (195, 151, 216);


static Colour ThemeBackground1 = TomorrowNightBackground1;
static Colour ThemeBackground2 = TomorrowNightBackground2;
static Colour ThemeBackground3 = TomorrowNightBackground3;
static Colour ThemeForeground1 = TomorrowNightForeground1;
static Colour ThemeForeground2 = TomorrowNightForeground2;
static Colour ThemeRed = TomorrowNightRed;
static Colour ThemeOrange = TomorrowNightOrange;
static Colour ThemeYellow = TomorrowNightYellow;
static Colour ThemeGreen = TomorrowNightGreen;
static Colour ThemeAqua = TomorrowNightAqua;
static Colour ThemeBlue = TomorrowNightBlue;
static Colour ThemePurple = TomorrowNightPurple;

class LookAndFeel_Ultraschall : public LookAndFeel_V3 {
public:
    void drawTableHeaderBackground(Graphics& g,
                                   TableHeaderComponent& header) override;

    void drawTableHeaderColumn(Graphics& g, const String& columnName,
                               int /*columnId*/, int width, int height,
                               bool isMouseOver, bool isMouseDown,
                               int columnFlags) override;

    void fillTextEditorBackground(Graphics& g, int /*width*/, int /*height*/,
                                  TextEditor& textEditor) override;
    void drawTickBox(Graphics&, Component&, float x, float y, float w, float h,
                     bool ticked, bool isEnabled, bool isMouseOverButton,
                     bool isButtonDown) override;

    // Button
    void drawButtonBackground(Graphics&, Button&, const Colour& backgroundColour, bool isMouseOverButton, bool isButtonDown);
    void drawToggleButton(Graphics& g, ToggleButton& button, bool isMouseOverButton, bool isButtonDown) override;
};

class Bar : public Component {
public:
    Bar()
    {
    }

    void paint(Graphics& g)
    {
        ColourGradient gradiant(Colour::fromRGB(45, 45, 45), 0.0f, 0.0f,
                                Colour::fromRGB(36, 36, 36), 0.0f, (float)getHeight(), false);
        gradiant.addColour(0.6f, Colour::fromRGB(31, 31, 31));

        g.setGradientFill(gradiant);
        g.fillRect(0, 0, getWidth(), getHeight());

        g.setColour(Colour::fromRGB(14, 14, 14));
        g.drawLine(0.0f, 1.0f, (float)getWidth(), 1.0f);
        g.setColour(Colour::fromRGB(19, 19, 19));
        g.drawLine(0.0f, 2.0f, (float)getWidth(), 2.0f);
        g.setColour(Colour::fromRGB(53, 53, 53));
        g.drawLine(0.0f, 3.0f, (float)getWidth(), 3.0f);

        g.setColour(Colour::fromRGB(21, 21, 21));
        g.drawLine(0.0f, (float)getHeight(), (float)getWidth(), (float)getHeight());
    }

private:
    JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR(Bar)
};

class AwesomeButton : public TextButton {
public:
    AwesomeButton(String icon)
        : icon(icon)
    {
    }

    void paint(Graphics& g)
    {
        int width = Font(getHeight() * 0.6f).getStringWidth(getButtonText().trim());
        width += getHeight();

        float x = (getWidth() - width) * 0.5f;

        getLookAndFeel().drawButtonBackground(g, *this, Colours::black, this->isMouseOver(), this->isDown());

        g.setColour(Colour::fromRGB(188, 188, 188));
        g.setFont(getHeight() * 0.6f);
        g.drawText(getButtonText(), (int)x + getHeight(), 0, getWidth() - getHeight(), getHeight(), Justification::left);

        g.setFont(getFontAwesome(getHeight() * 0.7f));
        g.setColour(Colours::black);
        g.drawText(icon, (int)x + 1, 1, getHeight(), getHeight(), Justification::centred, true);

        g.setColour(Colour::fromRGB(188, 188, 188));
        g.drawText(icon, (int)x, 0, getHeight(), getHeight(), Justification::centred, true);
    }

private:
    String icon;
    JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR(AwesomeButton)
};

class ActivityIndicator : public Component {
public:
    ActivityIndicator()
    {
        isActive = false;
        title = "Activity";
    }

    void paint(Graphics& g)
    {
        int contentWidth = Font(getHeight() * 0.6f).getStringWidth(title);
        contentWidth += getHeight();
        float x = (getWidth() - contentWidth) * 0.5f;

        const float width = getWidth() - 1.0f;
        const float height = getHeight() - 1.0f;
        const float cornerSize = 4.0f;
        Path outline;
        outline.addRoundedRectangle(0.5f, 0.5f, width, height, cornerSize, cornerSize,
                                    true, true, true, true);
        ColourGradient gradiant(Colour::fromRGB(45, 45, 45), 0.0f, 0.0f,
                                Colour::fromRGB(36, 36, 36), 0.0f, height, false);
        gradiant.addColour(0.5f, Colour::fromRGB(31, 31, 31));

        g.setGradientFill(gradiant);
        g.fillPath(outline);

        g.setColour(Colours::black);
        g.strokePath(outline, PathStrokeType(1.0f), AffineTransform::translation(0.0f, 1.0f).scaled(1.0f, (height - 1.6f) / height));

        g.setColour(Colour::fromRGB(188, 188, 188));
        g.setFont(getHeight() * 0.6f);
        g.drawText(title, (int)x + getHeight(), 0, getWidth() - getHeight(), getHeight(), Justification::left);

        g.setFont(getFontAwesome(getHeight() * 0.4f));
        g.setColour(Colours::black);
        g.drawText(FA_CIRCLE, (int)x + 1, 1, getHeight(), getHeight(), Justification::centred, true);

        if (isActive) {
            g.setColour(Colour::fromRGB(255, 122, 102));
        }
        else {
            g.setColour(Colour::fromRGB(188, 188, 188));
        }
        g.drawText(FA_CIRCLE, (int)x, 0, getHeight(), getHeight(), Justification::centred, true);
    }

    void setActive(bool value) { isActive = value; }
    bool getActive() { return isActive; }
    void reset() { isActive = false; }

    void setTitle(String newTitle) { title = newTitle; }

private:
    String title;
    bool isActive;
    JUCE_DECLARE_NON_COPYABLE_WITH_LEAK_DETECTOR(ActivityIndicator)
};
#endif // LOOKANDFEEL_H_INCLUDED
